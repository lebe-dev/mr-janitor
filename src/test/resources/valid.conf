config {

	defaults {
		directory-date-format = "yyyy-MM-dd"

		file-name-filter = ".*\\.zip$"
		directory-name-filter = "\\d{4}-\\d{2}-\\d{2}"

		unit = "directory"

    keep-copies = 7

    item-validation {
			md5-file-check = true
			zip-test = true
			log-file-exists = true

			file-size-at-least-as-previous = true

			qty-at-least-as-previous-valid = true
		}

		remove-invalid-items = false
	}

	profiles = ["mysite", "nginx-logs"]

	mysite {
			path = "."

			unit = "directory"

		  file-name-filter = ".*\\.ZIP$"

			directory-name-filter = "\\d{10}-\\d{2}"

			keep-copies = 31

			item-validation {
				md5-file-check = false
				zip-test = true
				log-file-exists = true

				file-size-at-least-as-previous = true

				qty-at-least-as-previous-valid = true
			}

			action = "remove"
	}

	nginx-logs {
			path = "."

			unit = "file"

			file-name-filter = ".*\\.sql$"

		  directory-name-filter = "\\d{4}"

      keep-copies = 14

      item-validation {
				md5-file-check = true

				zip-test = false
				log-file-exists = false

				file-size-at-least-as-previous = false

				qty-at-least-as-previous-valid = false
			}

		  action = "compress"
	}

}
